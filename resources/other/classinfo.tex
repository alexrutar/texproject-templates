\documentclass<* if template.class_options|length > 0 *>[<+ template.class_options|join(', ') +>]<* endif *>{<+ template.doctype +>}
<* if template.geometry is not none *>
\usepackage[<* for key, value in template.geometry.items() *><+ key +>=<+ value +><+ ', ' if not loop.last +><* endfor *>]{geometry}
<* endif *>

% format package
\usepackage{<+ config.project_data_folder +>/<+ template.format|safe_name('format') +>}

% macro packages
\usepackage{<+ config.project_macro_file +>}
<* for pack in template.macros *>
\usepackage{<+ config.project_data_folder+>/<+ pack|safe_name('macro') +>}
<* endfor *>
